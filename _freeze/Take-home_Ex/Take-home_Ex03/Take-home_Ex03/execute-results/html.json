{
  "hash": "c5c195f4b7b0031cb119c410a174644a",
  "result": {
    "markdown": "---\ntitle: \"Take-Home Exercise 03\"\nauthor: \"Ong Chae Hui\"\ndate: 1 Jun 2023\ndate-modified: \"2023-06-02\"\nexecute:\n  echo: true\n  eval: true\n  warning: false\n  freeze: auto  \nformat: \n  html:\n    code-fold: false\n    code-summary: \"Show the codes\"\n    code-overflow: wrap\n    code-block-bg: true\nengine: knitr\n---\n\n\n# 1. Overview\n\nWith reference to the [Mini-Challenge 3](#0) of [VAST Challenge 2023](#0) and by using appropriate **static and interactive statistical graphics** methods, we will help FishEye identify companies that may be engaged in illegal fishing.\n\n## 1.1. The Task\n\n## 1.2. Data Source\n\nFor this task, we will make use of the *MC3.json* provided for the data analysis and visualisation.\n\n# 2. Loading and Launching of Required R Packages\n\nThe required R library packages are being loaded. For this exercise, we will make use of the following R library packages.\n\n-   **jsonlite**, JSON parser and generator optimized for statistical data and the web.\n-   **tidygraph** provides a tidy framework for all things relational (networks/graphs, trees, etc.)\n-   **ggraph**, an extension of the ggplot2 API tailored to graph visualizations and provides the same flexible approach to building up plots layer by layer.\n-   **visNetwork** for network visualization.\n-   **lubridate** is an R package that makes it easier to work with dates and times.\n-   **igraph** a library collection for creating and manipulating graphs and analyzing networks.\n-   **tidyverse**, a family of modern R packages specially designed to support data science, analysis and communication task including creating static statistical graphs.\n-   **DT** provides an R interface to the JavaScript library DataTables that create interactive table on html page.\n-   **cowplot** provides functions to arrange multiple grid-based plots on a page.\n\nThe code chunk below uses `pacman::p_load()` to check if the above packages are installed. If they are, they will be loaded into the R environment.\n\n\n::: {.cell}\n\n```{.r .cell-code}\npacman::p_load(jsonlite, tidygraph, ggraph, visNetwork, lubridate,\n               igraph, tidyverse, DT, cowplot)\n```\n:::\n\n\n# 3. Data Preparation\n\nWe will first load each of the data files into the environment and perform data wrangling.\n\n## 3.1. Loading and Extracting the Data\n\nBased on the VAST 2023 data notes, column `dataset` will always be 'mc2', to represent this set of data belongs to mini challenge 2. As such, we will not import this column into the R environment.\n\n### 3.1.1. Load main file *mc2_challenge_graph.json*\n\nWe will first load in the main file, *mc2_challenge_graph.json*, then extract the nodes and edges (links) information out.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmc3 <- fromJSON(\"data/MC3.json\")\n```\n:::\n\n\n#### 3.1.1.1. Extracting the nodes data.frame from mc3\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmc3_nodes <- as_tibble(mc3$nodes) %>%\n  select(id, country, type, product_services, revenue_omu)\n```\n:::\n\n\n#### 3.1.1.2. Extracting the edges (links) data.frame from mc3\n\n\n::: {.cell}\n\n```{.r .cell-code}\nmc3_edges <- as_tibble(mc3$links) %>%\n  select(source, target, type)\n```\n:::\n\n\n#### 3.1.1.3. Examining the structure of *mc2_nodes* and *mc2_edges* data.frames using `glimpse()` of **dyplr**.\n\n\n::: {.cell}\n\n```{.r .cell-code}\nglimpse(mc3_nodes)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 27,622\nColumns: 5\n$ id               <list> \"Jones LLC\", \"Coleman, Hall and Lopez\", \"Aqua Advanc…\n$ country          <list> \"ZH\", \"ZH\", \"Oceanus\", \"Utoporiana\", \"ZH\", \"ZH\", \"Ri…\n$ type             <list> \"Company\", \"Company\", \"Company\", \"Company\", \"Company…\n$ product_services <list> \"Automobiles\", \"Passenger cars, trucks, vans, and bu…\n$ revenue_omu      <list> 310612303, 162734684, 115004667, 90986413, 81466667,…\n```\n:::\n\n```{.r .cell-code}\nglimpse(mc3_edges)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nRows: 24,038\nColumns: 3\n$ source <list> \"Lake Chad  Catchers Limited Liability Company Worldwide\", \"La…\n$ target <list> \"Erin Flores\", \"Linda Lee\", \"Sharon Coleman\", \"John Rivera\", \"…\n$ type   <list> \"Beneficial Owner\", \"Beneficial Owner\", \"Beneficial Owner\", \"B…\n```\n:::\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\n### Exporting to CSV for closer examination\nwrite_csv(x = mc3_nodes, \"data/generated/mc3_nodes.csv\")\nwrite_csv(x = mc3_edges, \"data/generated/mc3_edges.csv\")\nwrite_rds(mc3_nodes, \"data/generated/mc3_nodes.rds\")\nwrite_rds(mc3_edges, \"data/generated/mc3_edges.rds\")\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nread_mc3_nodes <- read_rds(\"data/generated/mc3_nodes.rds\")\nread_mc3_edges <- read_rds(\"data/generated/mc3_edges.rds\")\n```\n:::\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}